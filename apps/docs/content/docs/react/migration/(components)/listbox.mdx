---
title: Listbox
description: Migration guide for Listbox (renamed to ListBox with a capital "B") from HeroUI v2 to v3
---

<Callout type="info">
  Refer to the [v3 ListBox documentation](/docs/react/components/listbox) for complete API reference, styling guide, and advanced examples. This guide only focuses on migrating from HeroUI v2.
</Callout>

## Overview

The Listbox component in HeroUI v3 has been renamed to `ListBox` and redesigned with a compound component pattern, requiring explicit structure with `ListBox.Item`, `ListBox.Section`, and their subcomponents.

## Structure Changes

### v2: Separate Components

In v2, Listbox used separate components:

```tsx
import { Listbox, ListboxItem, ListboxSection } from "@heroui/react";

export default function App() {
  return (
    <Listbox>
      <ListboxItem key="1">Item 1</ListboxItem>
    </Listbox>
  );
}
```

### v3: Compound Components

In v3, ListBox uses compound components:

```tsx
import { ListBox, Label } from "@heroui/react";

export default function App() {
  return (
    <ListBox>
      <ListBox.Item id="1" textValue="Item 1">
        <Label>Item 1</Label>
      </ListBox.Item>
    </ListBox>
  );
}
```

## Key Changes

### 1. Component Naming

**v2:** `Listbox`, `ListboxItem`, `ListboxSection`  
**v3:** `ListBox`, `ListBox.Item`, `ListBox.Section`

### 2. Prop Changes

| v2 Prop | v3 Prop | Notes |
|---------|---------|-------|
| `key` | `id` | Renamed (required) |
| - | `textValue` | New required prop for accessibility |
| `variant` | - | Removed (use Tailwind CSS) |
| `color` | - | Removed (use Tailwind CSS) |
| `startContent` | - | Removed (place icons manually) |
| `endContent` | - | Removed (place icons manually) |
| `description` | - | Removed (use `Description` component) |
| `title` | - | Removed (use `Header` component) |
| `topContent` | - | Removed |
| `bottomContent` | - | Removed |
| `itemClasses` | - | Use `className` props |
| `classNames` | - | Use `className` props |
| `hideSelectedIcon` | - | Omit `ListBox.ItemIndicator` instead |
| `disableAnimation` | - | Removed |
| `isVirtualized` | - | Removed |
| `virtualization` | - | Removed |
| `selectedKeys` | `selectedKeys` | Now uses `Selection` type (Set) |

### 3. Removed Props

The following props are no longer available in v3:

- `variant` - Use Tailwind CSS classes
- `color` - Use Tailwind CSS classes
- `startContent` - Place icons manually in item content
- `endContent` - Place icons manually in item content
- `description` - Use `Description` component
- `title` (on Section) - Use `Header` component
- `topContent` - Handle separately
- `bottomContent` - Handle separately
- `itemClasses` - Use `className` props on items
- `classNames` - Use `className` props
- `hideSelectedIcon` - Omit `ListBox.ItemIndicator` instead
- `disableAnimation` - Animations handled differently
- `isVirtualized` - Virtualization removed
- `virtualization` - Virtualization removed

## Migration Examples

### Selection

<Tabs items={["v2", "v3"]}>
  <Tab value="v2">
    ```tsx
    import { useState } from "react";

    {/* Single selection */}
    const [singleSelected, setSingleSelected] = useState(new Set(["text"]));

    <Listbox
      selectedKeys={singleSelected}
      selectionMode="single"
      onSelectionChange={setSingleSelected}
    >
      <ListboxItem key="text">Text</ListboxItem>
      <ListboxItem key="number">Number</ListboxItem>
    </Listbox>
    
    {/* Multiple selection */}
    const [multiSelected, setMultiSelected] = useState(new Set(["text"]));

    <Listbox
      selectedKeys={multiSelected}
      selectionMode="multiple"
      onSelectionChange={setMultiSelected}
    >
      <ListboxItem key="text">Text</ListboxItem>
      <ListboxItem key="number">Number</ListboxItem>
    </Listbox>
    ```
  </Tab>
  <Tab value="v3">
    ```tsx
    import { useState } from "react";
    import type { Selection } from "@heroui/react";

    {/* Single selection */}
    const [singleSelected, setSingleSelected] = useState<Selection>(new Set(["text"]));

    <ListBox
      selectedKeys={singleSelected}
      selectionMode="single"
      onSelectionChange={setSingleSelected}
    >
      <ListBox.Item id="text" textValue="Text">
        <Label>Text</Label>
        <ListBox.ItemIndicator />
      </ListBox.Item>
      <ListBox.Item id="number" textValue="Number">
        <Label>Number</Label>
        <ListBox.ItemIndicator />
      </ListBox.Item>
    </ListBox>
    
    {/* Multiple selection */}
    const [multiSelected, setMultiSelected] = useState<Selection>(new Set(["text"]));

    <ListBox
      selectedKeys={multiSelected}
      selectionMode="multiple"
      onSelectionChange={setMultiSelected}
    >
      <ListBox.Item id="text" textValue="Text">
        <Label>Text</Label>
        <ListBox.ItemIndicator />
      </ListBox.Item>
      <ListBox.Item id="number" textValue="Number">
        <Label>Number</Label>
        <ListBox.ItemIndicator />
      </ListBox.Item>
    </ListBox>
    ```
  </Tab>
</Tabs>

### With Sections

<Tabs items={["v2", "v3"]}>
  <Tab value="v2">
    ```tsx
    <Listbox>
      <ListboxSection title="Actions">
        <ListboxItem key="new">New file</ListboxItem>
        <ListboxItem key="edit">Edit file</ListboxItem>
      </ListboxSection>
      <ListboxSection title="Danger zone">
        <ListboxItem key="delete">Delete</ListboxItem>
      </ListboxSection>
    </Listbox>
    ```
  </Tab>
  <Tab value="v3">
    ```tsx
    import { Header, Label, Separator } from "@heroui/react";

    <ListBox>
      <ListBox.Section>
        <Header>Actions</Header>
        <ListBox.Item id="new" textValue="New file">
          <Label>New file</Label>
        </ListBox.Item>
        <ListBox.Item id="edit" textValue="Edit file">
          <Label>Edit file</Label>
        </ListBox.Item>
      </ListBox.Section>
      <Separator />
      <ListBox.Section>
        <Header>Danger zone</Header>
        <ListBox.Item id="delete" textValue="Delete" variant="danger">
          <Label>Delete</Label>
        </ListBox.Item>
      </ListBox.Section>
    </ListBox>
    ```
  </Tab>
</Tabs>

## Component Anatomy

The v3 ListBox follows this structure:

```
ListBox (Root)
  ├── ListBox.Item
  │   ├── Icon (optional, manual placement)
  │   ├── Label (required)
  │   ├── Description (optional)
  │   └── ListBox.ItemIndicator (optional)
  └── ListBox.Section (optional)
      ├── Header (optional)
      └── ListBox.Item
```

## Breaking Changes Summary

1. **Component Naming**: `Listbox` → `ListBox`, `ListboxItem` → `ListBox.Item`, `ListboxSection` → `ListBox.Section`
2. **key → id**: Prop renamed, `textValue` now required
3. **Item Structure**: Must use `Label`, `Description`, `ListBox.ItemIndicator` components
4. **Icons**: Manual placement instead of `startContent`/`endContent` props
5. **Sections**: Use `Header` component instead of `title` prop
6. **Styling Props Removed**: `variant`, `color` - use Tailwind CSS
7. **Content Props Removed**: `topContent`, `bottomContent` - handle separately
8. **Virtualization Removed**: `isVirtualized` and `virtualization` props removed
9. **Selection Type**: Uses `Selection` type (Set) instead of arrays
