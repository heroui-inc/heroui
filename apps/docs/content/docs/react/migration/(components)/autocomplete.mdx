---
title: Autocomplete
description: Migration guide for Autocomplete (renamed to ComboBox) from HeroUI v2 to v3
---

<Callout type="info">
  Refer to the [v3 ComboBox documentation](/docs/react/components/combobox) for complete API reference, styling guide, and advanced examples. This guide only focuses on migrating from HeroUI v2.
</Callout>

## Structure Changes

In v2, Autocomplete was a single component that wrapped Input internally:

```tsx
import { Autocomplete, AutocompleteItem } from "@heroui/react";

export default function App() {
  return (
    <Autocomplete label="Select an animal">
      <AutocompleteItem key="cat">Cat</AutocompleteItem>
      <AutocompleteItem key="dog">Dog</AutocompleteItem>
    </Autocomplete>
  );
}
```

In v3, ComboBox uses compound components and requires explicit Input:

```tsx
import { ComboBox, Input, Label, ListBox } from "@heroui/react";

export default function App() {
  return (
    <ComboBox>
      <Label>Select an animal</Label>
      <ComboBox.InputGroup>
        <Input placeholder="Search animals..." />
        <ComboBox.Trigger />
      </ComboBox.InputGroup>
      <ComboBox.Popover>
        <ListBox>
          <ListBox.Item id="cat" textValue="Cat">
            Cat
            <ListBox.ItemIndicator />
          </ListBox.Item>
          <ListBox.Item id="dog" textValue="Dog">
            Dog
            <ListBox.ItemIndicator />
          </ListBox.Item>
        </ListBox>
      </ComboBox.Popover>
    </ComboBox>
  );
}
```

## Key Changes

### 1. Component Rename

**v2:** `Autocomplete`  
**v3:** `ComboBox`

### 2. Component Structure

**v2:** Single component with internal Input  
**v3:** Compound components (`ComboBox.InputGroup`, `ComboBox.Trigger`, `ComboBox.Popover`)

### 3. Item Components

**v2:** `AutocompleteItem`, `AutocompleteSection`  
**v3:** `ListBox.Item`, `ListBox.Section` (from ListBox component)

### 4. Item Identification

**v2:** React's `key` was used for both list reconciliation and item identity (selection).  
**v3:** Use `id` and `textValue` on `ListBox.Item` (state and accessibility); keep React's `key` on items in lists.

### 5. Prop Changes

| v2 Prop | v3 Location | Notes |
|---------|-------------|-------|
| - | `id` (on ListBox.Item) | Item identifier for state |
| - | `textValue` (on ListBox.Item) | For accessibility (type-ahead) |
| `label` | `Label` | Use `Label` component |
| `description` | `Description` | Use `Description` component |
| `placeholder` | `Input` | `placeholder` on Input |
| `selectedKey`, `onSelectionChange`, `inputValue`, `onInputChange` | `ComboBox` | Same |
| `allowsCustomValue`, `allowsEmptyCollection`, `defaultFilter` | `ComboBox` | Same |
| `disabledKeys`, `isDisabled`, `isRequired`, `isInvalid`, `name` | `ComboBox` | Same |
| `variant`, `color`, `size`, `radius` | - | Removed (use Tailwind CSS) |
| `labelPlacement` | - | Removed (use Label positioning) |
| `startContent`, `endContent` | - | Add to Input or InputGroup |
| `selectorIcon`, `clearIcon` | - | Customize ComboBox.Trigger or implement manually |
| `isClearable` | - | Implement manually |
| `showScrollIndicators` | - | Removed |
| `classNames` | - | Use `className` on parts |
| `popoverProps`, `listboxProps`, `inputProps` | - | Configure components directly |
| `scrollShadowProps`, `scrollRef` | - | Removed |
| `selectorButtonProps`, `clearButtonProps`, `disableSelectorIconRotation` | - | Removed |
| `menuTrigger` | - | Handled automatically |
| `isReadOnly` | `Input` | Use `readOnly` on Input |
| `fullWidth` | - | Use Tailwind CSS |
| `isVirtualized`, `maxListboxHeight`, `itemHeight` | - | Removed |
| `onClose`, `onClear` | - | Use other event handlers |
| `validationBehavior`, `validate` | - | Use Form component |

## Migration Examples

### Controlled Selection

<Tabs items={["v2", "v3"]}>
  <Tab value="v2">
    ```tsx
    import { useState } from "react";

    const [selectedKey, setSelectedKey] = useState("cat");

    <Autocomplete
      selectedKey={selectedKey}
      onSelectionChange={setSelectedKey}
      label="Animal"
    >
      <AutocompleteItem key="cat">Cat</AutocompleteItem>
      <AutocompleteItem key="dog">Dog</AutocompleteItem>
    </Autocomplete>
    ```
  </Tab>
  <Tab value="v3">
    ```tsx
    import { useState } from "react";
    import type { Key } from "@heroui/react";

    const [selectedKey, setSelectedKey] = useState<Key | null>("cat");

    <ComboBox
      selectedKey={selectedKey}
      onSelectionChange={setSelectedKey}
    >
      <Label>Animal</Label>
      <ComboBox.InputGroup>
        <Input placeholder="Search animals..." />
        <ComboBox.Trigger />
      </ComboBox.InputGroup>
      <ComboBox.Popover>
        <ListBox>
          <ListBox.Item id="cat" textValue="Cat">
            Cat
            <ListBox.ItemIndicator />
          </ListBox.Item>
          <ListBox.Item id="dog" textValue="Dog">
            Dog
            <ListBox.ItemIndicator />
          </ListBox.Item>
        </ListBox>
      </ComboBox.Popover>
    </ComboBox>
    ```
  </Tab>
</Tabs>

### With Sections

<Tabs items={["v2", "v3"]}>
  <Tab value="v2">
    ```tsx
    <Autocomplete label="Country">
      <AutocompleteSection title="North America">
        <AutocompleteItem key="usa">United States</AutocompleteItem>
        <AutocompleteItem key="canada">Canada</AutocompleteItem>
      </AutocompleteSection>
      <AutocompleteSection title="Europe">
        <AutocompleteItem key="uk">United Kingdom</AutocompleteItem>
      </AutocompleteSection>
    </Autocomplete>
    ```
  </Tab>
  <Tab value="v3">
    ```tsx
    import { Header, Separator } from "@heroui/react";

    <ComboBox>
      <Label>Country</Label>
      <ComboBox.InputGroup>
        <Input placeholder="Search countries..." />
        <ComboBox.Trigger />
      </ComboBox.InputGroup>
      <ComboBox.Popover>
        <ListBox>
          <ListBox.Section>
            <Header>North America</Header>
            <ListBox.Item id="usa" textValue="United States">
              United States
              <ListBox.ItemIndicator />
            </ListBox.Item>
            <ListBox.Item id="canada" textValue="Canada">
              Canada
              <ListBox.ItemIndicator />
            </ListBox.Item>
          </ListBox.Section>
          <Separator />
          <ListBox.Section>
            <Header>Europe</Header>
            <ListBox.Item id="uk" textValue="United Kingdom">
              United Kingdom
              <ListBox.ItemIndicator />
            </ListBox.Item>
          </ListBox.Section>
        </ListBox>
      </ComboBox.Popover>
    </ComboBox>
    ```
  </Tab>
</Tabs>

### Form Validation

<Tabs items={["v2", "v3"]}>
  <Tab value="v2">
    ```tsx
    {/* Required field */}
    <Autocomplete label="Animal" isRequired>
      <AutocompleteItem key="cat">Cat</AutocompleteItem>
    </Autocomplete>
    
    {/* With error message */}
    <Autocomplete
      label="Animal"
      isInvalid
      errorMessage="Please select an animal"
    >
      <AutocompleteItem key="cat">Cat</AutocompleteItem>
    </Autocomplete>
    ```
  </Tab>
  <Tab value="v3">
    ```tsx
    import { FieldError, Form } from "@heroui/react";

    {/* Required field */}
    <Form>
      <ComboBox isRequired name="animal">
        <Label>Animal</Label>
        <ComboBox.InputGroup>
          <Input placeholder="Search animals..." />
          <ComboBox.Trigger />
        </ComboBox.InputGroup>
        <ComboBox.Popover>
          <ListBox>
            <ListBox.Item id="cat" textValue="Cat">
              Cat
              <ListBox.ItemIndicator />
            </ListBox.Item>
          </ListBox>
        </ComboBox.Popover>
        <FieldError />
      </ComboBox>
    </Form>
    
    {/* With error message */}
    <ComboBox isInvalid>
      <Label>Animal</Label>
      <ComboBox.InputGroup>
        <Input placeholder="Search animals..." />
        <ComboBox.Trigger />
      </ComboBox.InputGroup>
      <ComboBox.Popover>
        <ListBox>
          <ListBox.Item id="cat" textValue="Cat">
            Cat
            <ListBox.ItemIndicator />
          </ListBox.Item>
        </ListBox>
      </ComboBox.Popover>
      <FieldError>Please select an animal</FieldError>
    </ComboBox>
    ```
  </Tab>
</Tabs>

## Component Anatomy

The v3 ComboBox follows this structure:

```
ComboBox (Root)
  ├── Label
  ├── ComboBox.InputGroup
  │   ├── Input
  │   └── ComboBox.Trigger
  ├── Description (optional)
  ├── ComboBox.Popover
  │   └── ListBox
  │       ├── ListBox.Item
  │       │   ├── [Content]
  │       │   └── ListBox.ItemIndicator (optional)
  │       └── ListBox.Section (optional)
  │           ├── Header
  │           └── ListBox.Item
  └── FieldError (optional)
```

## Summary

1. **Component Rename**: `Autocomplete` → `ComboBox`
2. **Component Structure**: Single component → Compound components
3. **Item Components**: `AutocompleteItem` → `ListBox.Item`
4. **Item identity**: Use `id` and `textValue` on items; keep React's `key` for list reconciliation
5. **Input**: Internal → Explicit `Input` component required
6. **Label/Description**: Props → Separate components
7. **Styling Props Removed**: `variant`, `color`, `size`, `radius` - use Tailwind CSS
8. **Clear Button**: Built-in → Manual implementation required
9. **ClassNames Removed**: Use `className` props on individual components
10. **Many Props Removed**: See prop changes table above
