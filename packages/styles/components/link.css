/* Base link styles */
.link {
  @apply text-link relative inline-flex h-fit w-fit items-center text-sm font-medium;

  /**
   * Transitions
   * CRITICAL: motion-reduce must be AFTER transition for correct override specificity
   */
  transition:
    color 150ms var(--ease-smooth),
    background-color 150ms var(--ease-smooth),
    box-shadow 150ms var(--ease-out),
    opacity 150ms var(--ease-smooth);
  @apply motion-reduce:transition-none;

  /* Cursor */
  cursor: var(--cursor-interactive);

  /* Hover state */
  @media (hover: hover) {
    &:hover,
    &[data-hovered] {
      .link__icon {
        @apply opacity-100;
      }
    }
  }

  /* Focus state */
  &:focus-visible,
  &[data-focus-visible] {
    @apply status-focused;

    .link__icon {
      @apply opacity-100;
    }
  }

  /* Disabled state */
  &[aria-disabled] {
    @apply status-disabled;
  }

  .link__icon {
    @apply pointer-events-none inline-flex size-2 shrink-0 items-center justify-center text-current opacity-60;

    /**
     * Transitions
     * CRITICAL: motion-reduce must be AFTER transition for correct override specificity
     */
    transition: opacity 150ms var(--ease-out);
    @apply motion-reduce:transition-none;
  }

  .link__icon[data-default-icon] {
    @apply ml-1 pb-1.5;
  }
}

/* Underline variants */
.link--underline-none {
  /* No underline - use opacity for hover feedback */
  @media (hover: hover) {
    &:hover,
    &[data-hovered] {
      @apply opacity-80;
    }
  }
}

.link--underline-hover {
  /* Animated underline on hover (default) */
  &::before {
    content: "";
    bottom: 0;
    opacity: 0;

    @apply absolute left-0 h-px w-full bg-current;

    /**
     * Transitions
     * CRITICAL: motion-reduce must be AFTER transition for correct override specificity
     */
    transition: opacity 150ms var(--ease-out);
    @apply motion-reduce:transition-none;
  }

  @media (hover: hover) {
    &:hover::before,
    &[data-hovered]::before {
      opacity: 1;
    }
  }
}

.link--underline-always {
  /* Always visible underline with opacity change */
  &::before {
    content: "";
    bottom: 0;
    opacity: 0.5;

    @apply absolute left-0 h-px w-full bg-current;

    /**
     * Transitions
     * CRITICAL: motion-reduce must be AFTER transition for correct override specificity
     */
    transition: opacity 200ms var(--ease-out);
    @apply motion-reduce:transition-none;
  }

  @media (hover: hover) {
    &:hover::before,
    &[data-hovered]::before {
      opacity: 1;
    }
  }
}

/* Underline offset variants */
.link--offset-1 {
  &::before {
    bottom: 0;
  }
}

.link--offset-2 {
  &::before {
    bottom: -2px;
  }
}

.link--offset-3 {
  &::before {
    bottom: -4px;
  }
}
