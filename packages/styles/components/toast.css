/* Toast component styles */

/* Toast Region - Container for all toasts */
.toast-region {
  @apply fixed z-50 flex flex-col gap-2 outline-none;
}

/* Placement variants - Bottom */
.toast-region--bottom {
  @apply bottom-4 left-1/2 -translate-x-1/2 flex-col-reverse;
}

.toast-region--bottom-start {
  @apply bottom-4 left-4 flex-col-reverse;
}

.toast-region--bottom-end {
  @apply right-4 bottom-4 flex-col-reverse;
}

/* Placement variants - Top */
.toast-region--top {
  @apply top-4 left-1/2 -translate-x-1/2;
}

.toast-region--top-start {
  @apply top-4 left-4;
}

.toast-region--top-end {
  @apply top-4 right-4;
}

.toast-region:focus-visible {
  @apply outline-2 outline-offset-2 outline-focus;
}

/* Base toast styles */
.toast {
  @apply relative flex w-full min-w-[calc(100vw-2rem)] flex-row items-start justify-start gap-4 rounded-3xl bg-surface px-4 py-3 shadow-overlay sm:min-w-auto;
  view-transition-class: toast;
}

.toast:focus-visible {
  @apply outline-2 outline-offset-2 outline-focus;
}

/* Toast content */
.toast__content {
  @apply flex h-full grow flex-col items-start;
}

/* Toast indicator */
.toast__indicator {
  @apply flex shrink-0 items-center justify-center p-1 text-overlay-foreground select-none;

  [data-slot="toast-default-icon"] {
    @apply box-content size-4;
  }
}

/* Toast title */
.toast__title {
  @apply text-sm leading-6 font-medium text-overlay-foreground;
}

/* Toast description */
.toast__description {
  @apply text-sm text-muted;
}

/* Toast close button */
.toast__close-button {
  @apply absolute -top-1 -right-1 size-5 border border-border bg-overlay opacity-100 sm:pointer-events-none sm:opacity-0;

  transition: opacity 150ms var(--ease-smooth);
  @apply motion-reduce:transition-none;
  /* Overrides close button default icon size from 16px to 12px */
  [data-slot="close-button-icon"] {
    @apply size-3;
  }

  /* Overrides close button hover state */
  @media (hover: hover) {
    &:hover,
    &[data-hovered="true"] {
      @apply bg-default;
    }
  }
}

.toast:hover .toast__close-button {
  @apply pointer-events-auto opacity-100;
}

/* Toast action button */
.toast__action {
  @apply mt-2 sm:mt-0;
}

/* Variant modifiers */
.toast--accent .toast__title {
  @apply text-accent;
}

.toast--success .toast__title {
  @apply text-success;
}

.toast--success .toast__indicator {
  @apply text-success;
}

.toast--warning .toast__title {
  @apply text-warning;
}

.toast--warning .toast__indicator {
  @apply text-warning;
}

.toast--danger .toast__title {
  @apply text-danger;
}

.toast--danger .toast__indicator {
  @apply text-danger;
}

/* View transition animations */
::view-transition-new(.toast):only-child {
  animation: toast-slide-in 350ms;
}

::view-transition-old(.toast):only-child {
  animation: toast-slide-out 350ms;
  animation-fill-mode: forwards;
}

.toast-region--bottom ::view-transition-new(.toast):only-child {
  animation: toast-slide-in 350ms;
}

.toast-region--bottom ::view-transition-old(.toast):only-child {
  animation: toast-slide-out 350ms;
  animation-fill-mode: forwards;
}

@keyframes toast-slide-out {
  to {
    translate: 0 100%;
    opacity: 0;
  }
}

@keyframes toast-slide-in {
  from {
    translate: 0 100%;
    opacity: 0;
  }
}
